<map version="freeplane 1.8.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="AAS" FOLDED="false" ID="ID_1549553046" CREATED="1606269251860" MODIFIED="1608189300242" STYLE="oval">
<font SIZE="18"/>
<hook NAME="MapStyle">
    <properties edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff" show_note_icons="true" fit_to_viewport="false"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="fork">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10.0 pt" SHAPE_VERTICAL_MARGIN="10.0 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="8" RULE="ON_BRANCH_CREATION"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这个资料是非常好的介绍AAS基本概念的文档。一开始的话，结合一些PPT和这个文档，可以来了解一下AAS的基本的概念。
    </p>
  </body>
</html>
</richcontent>
<node TEXT="AAS 基本知识" POSITION="right" ID="ID_60783938" CREATED="1606269317007" MODIFIED="1611476254329">
<edge COLOR="#ff0000"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      要了解AAS，首先需要了解的就是LTE的Pre-Coding
    </p>
  </body>
</html>
</richcontent>
<node TEXT="LTE AAS Coverage and Capacity Dimensioning" ID="ID_618895062" CREATED="1607994367068" MODIFIED="1608524815763" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/LTE%20AAS%20Coverage%20and%20Capacity%20Dimensioning.pdf"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这个文档的前几章节描述了AAS相关的一些基本的概念，还是比较有参考的价值的。
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="强烈推荐基础知识" ID="ID_1800580812" CREATED="1609383780929" MODIFIED="1610588726058" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/FDD%20AAS%20Digital%20Sectorization%20and%20Common%20Beam%20Weights.pptx"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      了解FDD BF的一个简单的PPT，解释的深入浅出，受益很多。
    </p>
    <p>
      
    </p>
    <p>
      其中有一段matlab的代码，非常简单的描述和展示了beam forming的基本原理
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="AAS Port2Antenna mapping" ID="ID_722772368" CREATED="1609384678392" MODIFIED="1609385193175" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/UL-DL%20port%20mappings%20for%20LTE%20AAS.pptx"/>
<node TEXT="Beam weights optimization" ID="ID_1906780264" CREATED="1610589349130" MODIFIED="1610589493225" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/Beam%20weights%20optimization%20L18A.pptx"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这个文档也是一个非常好的文档，讲的是BF weight的设计的
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="LTE TM Mode and BeamForming" ID="ID_858510398" CREATED="1611223441583" MODIFIED="1611223526669" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/LTE_TMs_and_beamforming.pdf"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这是非常好的一个介绍LTE的预编码和传输模式的文章
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="P2A" POSITION="right" ID="ID_373868327" CREATED="1610952069202" MODIFIED="1610952558499" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/UL-DL%20port%20mappings%20for%20LTE%20AAS.pptx">
<edge COLOR="#7c0000"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      P2A(Port to Antenna mapping)是AAS中非常重要的一个概念。
    </p>
    <p>
      
    </p>
    <p>
      也就是如何把天线端口(CRS,CSI-RS)映射到物理的天线上去。
    </p>
    <p>
      在legacy的非AAS系统中，不怎么碰到P2A，这是因为对于2天线系统和4天线系统，天线端口和物理天线默认是一一对应。
    </p>
    <p>
      但是在AAS系统中，大量的物理天线出现了，而天线端口还是没有改变(CRS和CSI-RS)，两者之间的数量严重的不匹配，所以P2A的重要性就显现出来了。
    </p>
  </body>
</html>
</richcontent>
<node TEXT="BF的用途" ID="ID_1401541049" CREATED="1612160776716" MODIFIED="1612162043532">
<node TEXT="Cell Shaping" ID="ID_149152246" CREATED="1612160809202" MODIFIED="1612160813402"/>
<node TEXT="UE Specific Beam" ID="ID_153835878" CREATED="1612160814015" MODIFIED="1612160821597"/>
</node>
<node TEXT="BF中多天线组合方式" ID="ID_316444118" CREATED="1612160898814" MODIFIED="1613629274645"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      所谓Beam Forming，其实基本上完成的事情就是：
    </p>
    <p>
      选取一组天线，在这组天线上传输相同的内容，然后通过调整不同天线上发射的相位和幅度来达到调整发射方向的目的。
    </p>
    <p>
      
    </p>
    <p>
      一般的天线系统是使用的双极化天线，在选取天线做组合的时候，选择同样极化方向的天线做组合，或者使用不同极化方向的天线做组合，得到的特性是不一样的。
    </p>
    <p>
      从而诞生了两种不同的BF方式，
    </p>
  </body>
</html>
</richcontent>
<node TEXT="单天线传输" ID="ID_1501439283" CREATED="1612160912824" MODIFIED="1612161433313"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      单天线传输并不是BF，在这里提及只是因为这是一个比较的基准，测量可以得到单天线传输的半功率角，以及功率分布模型，还有最大发射功率。
    </p>
    <p>
      
    </p>
    <p>
      然后使用多个天线做BF的时候，可以同样测得BF场景下的各个数据，用于比较，获得BF的特性，并且还可以知道BF中哪些指标优化了，哪些指标弱化了。
    </p>
  </body>
</html>
</richcontent>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      基准
    </p>
  </body>
</html>
</richcontent>
<node TEXT="宽波形" ID="ID_1127112018" CREATED="1612161709926" MODIFIED="1612161717909"/>
<node TEXT="低增益" ID="ID_816548287" CREATED="1612161725653" MODIFIED="1612161729367"/>
</node>
<node TEXT="同样极化方向的天线组合在一起" ID="ID_47613740" CREATED="1612160919390" MODIFIED="1612161592011"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300">SPBF</font>
    </p>
  </body>
</html>
</richcontent>
<node ID="ID_143218922" CREATED="1612161747293" MODIFIED="1612161852846"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300">窄波束</font>
    </p>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1360403219" CREATED="1612161750373" MODIFIED="1612161873316"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#33cc00">有波束赋形增益</font>
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="PA利用率高" ID="ID_1984144395" CREATED="1612161757218" MODIFIED="1612161763626"/>
</node>
<node TEXT="不同极化方向的天线组合在一起" ID="ID_1421225466" CREATED="1612160930973" MODIFIED="1612161594512"><richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300">DPBF</font>
    </p>
  </body>
</html>
</richcontent>
<node ID="ID_812957084" CREATED="1612161765411" MODIFIED="1612161887638"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#33cc00">宽波束</font>
    </p>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1216104875" CREATED="1612161769371" MODIFIED="1612161862599"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300">没有波束赋形增益</font>
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="PA利用率高" ID="ID_1108077082" CREATED="1612161830039" MODIFIED="1612161833610"/>
</node>
</node>
<node TEXT="BF模式下小区覆盖策略" ID="ID_1857091662" CREATED="1612162023195" MODIFIED="1612162904714">
<icon BUILTIN="help"/>
<richcontent TYPE="DETAILS">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff3300">port mapping</font>
    </p>
  </body>
</html>
</richcontent>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这里描述的其实是port mapping的不同策略。
    </p>
    <p>
      
    </p>
    <p>
      其实这里的描述，暂时还不是特别的清晰。不同的port mapping的不同策略之间的关系和不同，还需要继续研究搞清楚了。
    </p>
  </body>
</html>
</richcontent>
<node TEXT="基于天线空间做端口映射" ID="ID_238907441" CREATED="1612162482622" MODIFIED="1612163213404">
<icon BUILTIN="help"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      基于天线空间做端口映射的话，
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="基于波束空间做端口映射" ID="ID_216123207" CREATED="1612162501129" MODIFIED="1612163218003">
<icon BUILTIN="help"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这里还需要做更多的研究，不过这个策略的意思大致是，在beam空间做端口映射，似乎描述的行为是，先生成波束，然后在不同的波束上映射不同的端口
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="上述两者的集合" ID="ID_393432533" CREATED="1612162529191" MODIFIED="1612163227689">
<icon BUILTIN="help"/>
</node>
</node>
<node TEXT="P2A中的功率归一化设计" ID="ID_34052456" CREATED="1612164007931" MODIFIED="1612164025428"/>
<node TEXT="水平角度和垂直角度的处理分离" ID="ID_758804348" CREATED="1612164043310" MODIFIED="1612164232351"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      FD-MIMO支持水平方向的BF，同时也支持垂直方向的BF，不过在很多的场景下，垂直方向的BF很大程度上看起来就跟调整下倾角很相似。
    </p>
    <p>
      
    </p>
    <p>
      所以在建模的时候，使用一个克罗内克积来将水平方向的BF和垂直方向的BF给解耦，这样能够降低系统难度，针对水平方向和垂直方向的BF weight可以分别处理，分别优化
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="LTE多天线技术" POSITION="right" ID="ID_968860121" CREATED="1611223265594" MODIFIED="1611223285267">
<edge COLOR="#00007c"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      LTE系统从设计之初就是一个多天线的系统，也就是从一开始就使用了MIMO技术。
    </p>
  </body>
</html>
</richcontent>
<node TEXT="多天线使用方式" ID="ID_1126133429" CREATED="1611223428852" MODIFIED="1611223433966">
<node TEXT="发射分集" ID="ID_1039004868" CREATED="1611223308327" MODIFIED="1611223313597"/>
<node TEXT="波束赋形" ID="ID_1956689108" CREATED="1611223318202" MODIFIED="1611223335585"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      其中空分复用和波束赋形对于多天线的要求是冲突的：
    </p>
    <p>
      空分复用要求多天线之间的距离要足够远，这样天线之间是不相关的，每个天线有相对独立的传输信道。
    </p>
    <p>
      而波束赋形要求多天线之间的距离要足够的近，这样利用天线之间的相关性，能够调整整体上多天线发射的综合的波形方向。
    </p>
    <p>
      一般如果天线间距小于1/2的波长，那么这样的多天线系统适合做波束赋形，反之，这样的多天线系统适合做空分复用。
    </p>
    <p>
      如果想使用空分复用，除了增大天线间距这个方法之外，还有一种通用的方法是使用双极化天线，这样，天线的尺寸不用太大，同时因为双极化天线之间是正交的，就满足空分复用对天线的要求。
    </p>
    <p>
      
    </p>
    <p>
      多天线的使用方式大致有下面的几种：
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 发射分集
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 空分复用
    </p>
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;• 波束赋形
    </p>
    <p>
      
    </p>
    <p>
      这同时也说明了，在AAS系统中，不同极化方向的天线是不能用来做波束赋形的，能够一起做波束赋形的天线一定是那些极化方向一样的天线。
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="空分复用" ID="ID_1017377640" CREATED="1611223314335" MODIFIED="1611223317425"/>
</node>
<node TEXT="TM9" ID="ID_1599166695" CREATED="1611552523498" MODIFIED="1611556174614">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      在LTE的传输模式中，<font color="#ff3300"><b>TM1到TM6</b></font>都是使用的小区特定的参考信号，也就是CRS来做解调和信道估计的。
    </p>
    <p>
      
    </p>
    <p>
      CRS的优势是，它既可以用来做解调，也可以用来估计信道CSI，在天线数目不多的情况下，这种方式简洁方便，节省资源。
    </p>
    <p>
      但是CRS的局限性在于，总共只有4个CRS，也就是说最多只支持4层的传输。
    </p>
    <p>
      在多天线系统进化之后，如果要求多于4层的传输，使用CRS是不行的。
    </p>
    <p>
      为什么不继续增加CRS的port数量呢？主要原因是CRS的开销是比较大的，如果继续增加多于4口的CRS,在LTE时空栅格上占用的RE数量就太多了，那么能够真正用于数据传输的RE数量就会降低到影响系统的性能了。
    </p>
    <p>
      而且CRS的一个缺点是，每一个子帧上都需要传输CRS信号，即使这个子帧没有用户的PDSCH传输，或者只有部分带宽上有PDSCH的传输，也必须要全带宽的加上CRS。这既是一种浪费，也是一种干扰。
    </p>
    <p>
      
    </p>
    <p>
      <font color="#ff3300"><b>TM7和TM8</b></font>里面引入了DMRS的概念，与CRS不同，DMRS是UE特定的参考信号，它是在预编码之前就插入PDSCH的，这样的好处是，参考信号也和数据一起进行了预编码，这样在UE接收端，只要解调出参考信号，就能够使用得到信道矩阵H来解调PDSCH的数据。
    </p>
    <p>
      这样的话，eNB不需要告知UE自己使用的预编码矩阵是哪个了，节省了交互的开销，同时，eNB在使用预编码矩阵上，也不用局限于有限的那几个固定的预编码矩阵了，eNB能够根据信道质量算出理想的预编码矩阵，使用独一无二的理想的预编码矩阵。
    </p>
    <p>
      但是TM7和TM8没有引入CSI-RS，这导致了eNB没有办法来获知准确的下行CSI，也就没办法来准确的估计出下行的预编码矩阵。
    </p>
    <p>
      所以TM7和TM8在爱立信的实现中，只适用于TDD系统中，因为在TDD系统中，上下行同频，eNB可以根据上下行的互异性特点使用上行接收到的UE的数据来估计下行的信道矩阵H。
    </p>
    <p>
      最精确的方式是使用UE的上行的Souding参考信号来估计上行的信道。
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      <font color="#ff3300"><b>TM9</b></font>引入了CSI-RS的概念。
    </p>
    <p>
      在TM9上，扩展了DMRS的个数，在TM7中，只支持一层的传输，在TM8中，只支持最多两层的传输。但是在TM9上，DMRS的个数被扩展到了8个，也就是最多支持8层的传输。
    </p>
    <p>
      在LTE的TDD模式下，对于TM7和TM8来说，使用上下行的互异性可以测量两个Port的信道H，手机一般能够发送一个或者两个Port的Souding参考信号(可以同时发送，或者交替发送)。
    </p>
    <p>
      实际上，对于TM9其实也可以使用这个相同的方法。
    </p>
    <p>
      不过TM9使用了另外可行的方法，也就是CSI-RS。
    </p>
    <p>
      <font color="#ff3300"><b>CSI-RS也是小区特定的参考信号</b></font>，最多有8个。eNB可以选择配置CSI-RS，也可以选择不配置(猜测，对于TDD，就可以不配置，对于FDD，必须要配置？)
    </p>
    <p>
      
    </p>
    <p>
      CSI-RS是一个全带宽的参考信号?使用CSI-RS让UE去评估下行的信道，它的灵活性在于，CSI-RS可以不用像CRS那样，每个子帧都传输，对于CSI-RS来说，可以配置稀疏的参考信号。既节省资源，又降低干扰。
    </p>
    <p>
      
    </p>
  </body>
</html>
</richcontent>
<node TEXT="TM7/8/9的层数和port数目关系？" ID="ID_391879649" CREATED="1611555112258" MODIFIED="1611555179830"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      感觉上来看，对于TM7，TM7，TM9，layer数目和port数目是一样的，这从<b>DMRS</b>是施加在每一个layer上就能看出来了。
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="LTE的均衡技术" POSITION="right" ID="ID_237634496" CREATED="1613624747507" MODIFIED="1613624751569">
<edge COLOR="#007c00"/>
<node TEXT="Zero-Forcing" ID="ID_237385337" CREATED="1613715848450" MODIFIED="1613974267808"/>
<node TEXT="MMSE" ID="ID_1968847245" CREATED="1613715858370" MODIFIED="1613974273667"/>
</node>
<node TEXT="产品" POSITION="left" ID="ID_542712313" CREATED="1606269366899" MODIFIED="1606269399219">
<edge COLOR="#ff00ff"/>
<node TEXT="TDD AAS" ID="ID_1693279247" CREATED="1606269334303" MODIFIED="1610507245216" LINK="https://lte-wiki.rnd.ki.sw.ericsson.se/wiki/LTE_TDD_AAS_Feature_List"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      TDD的AAS是基于上下行的互异性来实现的。也就是说下行的BF matrix是基于上行的测量来得到的。
    </p>
    <p>
      同时，方法有两种，一种是基于SRS来实现，一种是基于DMRS来实现。
    </p>
    <p>
      基于SRS来实现的话，下行能够获得任意形状的波形。这种方法叫做基于RAT(Reciprocity Assisted Transmission)的BF
    </p>
    <p>
      基于DMRS来实现的话，下行能够实现的波形是有限个的，也就是只能在一些固定的网格beam pattern中选择。这种方法叫做基于GoB的BF。
    </p>
    <p>
      
    </p>
    <p>
      LTE的Wiki上面有LTE AAS相关的所有的feature列表，可以查看。
    </p>
  </body>
</html>
</richcontent>
<node TEXT="MR2815" ID="ID_1500069087" CREATED="1607914468206" MODIFIED="1607914474783">
<node TEXT="SP533-Common Beamforming" ID="ID_909081486" CREATED="1607914477596" MODIFIED="1611625230379">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      SP533是TDD LTE AAS的一个最基本的实现，它实现了common beam的功能，具体的如下：
    </p>
    <ul>
      <li>
        PUCCH &amp; PRACH 使用了sector coverage beam
      </li>
      <li>
        PUSCH SU-MIMO使用了sector coverage beam
      </li>
      <li>
        下行公共信道和信号使用了固定的common beam.包含CRS,PBCH,PSS/SSS,PDCCH,PHICH
      </li>
      <li>
        TM3的PDSCH也使用固定的common beam
      </li>
    </ul>
    <p>
      
    </p>
    <p>
      一些高度概括的关于SP533的feature特性：
    </p>
    <ul>
      <li>
        Common channel beamforming is supported with configurable <font color="#0000cc">sector shape</font>. This applies to all downlink transmissions that are broadcast cell-wide.
      </li>
      <li>
        DL FD-MIMO is supported with <font color="#0000cc">TM7 and TM8</font>. The beams are steered in both horizontal and vertical directions.
      </li>
      <li>
        UL beamforming is supported with 1 layer/UE.
      </li>
      <li>
        This feature only covers SU-MIMO.
      </li>
    </ul>
  </body>
</html>
</richcontent>
<node TEXT="功能实现" ID="ID_957783614" CREATED="1611625232743" MODIFIED="1611625247286">
<node TEXT="下行" ID="ID_1457018700" CREATED="1611625255510" MODIFIED="1611625429551"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      DL broadcast BF:
    </p>
    <p>
      CRS, PRS, PBCH, PSS/SSS, PDCCH, PHICH using fixed broadcast beam
    </p>
    <p>
      
    </p>
    <p>
      TM3 for PDSCH using fixed broadcast beam
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="上行" ID="ID_321644433" CREATED="1611625260003" MODIFIED="1611625398040"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      PUCCH &amp; PRACH Rx:
    </p>
    <p>
      Sector coverage beams (sub-sectorization with semi-wide fixed beams)
    </p>
    <p>
      
    </p>
    <p>
      PUSCH SU-SIMO with fixed beams:
    </p>
    <p>
      Sector coverage beams (sub-sectorization with semi-wide fixed beams). As an interim solution, <font color="#0000cc"><b>PUSCH receiver algorithm will be replaced by the final solution provided by SP373.</b></font>
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="新增加的MoM参数" ID="ID_412948198" CREATED="1611626130095" MODIFIED="1611626144397">
<node TEXT="小区Shape相关" ID="ID_1245659760" CREATED="1611626179195" MODIFIED="1611626221454"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      o SectorCarrier.digitalTilt
    </p>
    <p>
      o SectorCarrier.sectorShape
    </p>
    <p>
      o SectorCarrier.customComBeamfrmWtsAmplPort0
    </p>
    <p>
      o SectorCarrier.customComBeamfrmWtsPhasePort0
    </p>
    <p>
      o SectorCarrier.customComBeamfrmWtsAmplPort1
    </p>
    <p>
      o SectorCarrier.customComBeamfrmWtsPhasePort1
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="天线subarray相关" ID="ID_292807890" CREATED="1611626244495" MODIFIED="1611626458350"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      subarraySpacingVertical&nbsp;&nbsp;-&gt;dz-&gt;天线子阵列之间的垂直间距
    </p>
    <p>
      subarraySpacingHorizontal -&gt;dy-&gt;天线子阵列之间的水平间距
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="天线相关" ID="ID_1180630216" CREATED="1611626534040" MODIFIED="1611626883305"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      noOfAntennaSubarrayRows
    </p>
    <p>
      noOfAntennaSubarrayColumns
    </p>
    <p>
      noOfAntennaSubarrayPolarizations
    </p>
    <p>
      
    </p>
    <p>
      另外还需要每个Radio的product number:
    </p>
    <p>
      对于common beam来说，不同radio产品的common beam的值是不一样的，
    </p>
    <p>
      hardcode的BF表格是携带在UP包中的，底层BB模块需要根据BF表格计算出common BF的值。
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="Commom Beam 构成" ID="ID_1355533896" CREATED="1613631199938" MODIFIED="1613633270155"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      一些前提情况：
    </p>
    <ul>
      <li>
        TDD AAS只支持两端口配置，CRS0和CRS1
      </li>
      <li>
        AAS的Radio都是采用双极化天线的配置
      </li>
    </ul>
  </body>
</html>
</richcontent>
<node TEXT="2D BeamWeight" ID="ID_297956176" CREATED="1613634782413" MODIFIED="1613634790263">
<node TEXT="Port CRS0" ID="ID_1891631111" CREATED="1613634799473" MODIFIED="1613634809544">
<node TEXT="H Weight" ID="ID_1211939533" CREATED="1613634913394" MODIFIED="1613634918314"/>
<node TEXT="V Weight" ID="ID_1968812907" CREATED="1613634918767" MODIFIED="1613634923578"/>
</node>
<node TEXT="Port CRS1" ID="ID_1773499139" CREATED="1613634810338" MODIFIED="1613634893428"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      一旦Port0的BF weight决定好了，那么CRS1的BF weight就能够根据CRS0的计算出来。
    </p>
    <p>
      计算的准则就是Alamoti Code准则。
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="Common Beam类型" ID="ID_849690014" CREATED="1613713434353" MODIFIED="1613713442098">
<node TEXT="MACRO" ID="ID_107815868" CREATED="1613713452010" MODIFIED="1613713455752"/>
<node TEXT="HIGH-RISE" ID="ID_203025744" CREATED="1613713456286" MODIFIED="1613713463224"/>
<node TEXT="HOTSPOT" ID="ID_757090054" CREATED="1613713463953" MODIFIED="1613713467433"/>
</node>
<node TEXT="PRACH接收" ID="ID_1383790798" CREATED="1613713473728" MODIFIED="1613713477451"/>
<node TEXT="PUCCH接收" ID="ID_1638896962" CREATED="1613713477944" MODIFIED="1613713481819"/>
<node TEXT="SRS配置" ID="ID_913259029" CREATED="1613960324822" MODIFIED="1613960334316"/>
<node TEXT="SDFT" ID="ID_257888365" CREATED="1613960334918" MODIFIED="1613960339785">
<node TEXT="SDFT的结果是什么？" ID="ID_194081771" CREATED="1613960539159" MODIFIED="1613960869468"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      对物理天线上接收的信号做SDFT变换之后，得到的是Beam域的同样数量的信号。
    </p>
    <p>
      物理天线上的信号的含义非常的明确，代表的是接收到的信号，在每个天线上接收的分量。或者说分量不合适，其实应该说是接收到的信号在不同天线上的值的分布。
    </p>
    <p>
      那么在beam域上的同样个数的这些信号的明确含义是什么呢？:
    </p>
    <p>
      
    </p>
    <p>
      PS:
    </p>
    <p>
      按照一些文档的描述，beam域上的信号代表的是，<font color="#0000cc">接收到的信号，不同角度上的值的分布</font>。
    </p>
  </body>
</html>

</richcontent>
<node TEXT="傅里叶变换对" ID="ID_647755618" CREATED="1613960903111" MODIFIED="1613961248673"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      这里牵涉到一个讨论:
    </p>
    <p>
      对某个信号做傅里叶变换，那么，变换后的信号的物理含义是什么？
    </p>
    <p>
      
    </p>
    <p>
      比如，在这里的SDFT的例子中，天线域上的信号和beam域上的信号是一对<font color="#0000cc">傅里叶变换对</font>。
    </p>
    <p>
      天线域上的信号可以看作是在<font color="#0000cc">空间域上对接收到的信号做采样</font>，
    </p>
    <p>
      而beam域上的信号可以看作是对接收信号在<font color="#0000cc">不同角度方向上做采样</font>。
    </p>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="SP534-SU-MIMO SRS-based RAT DL BF 64TRX" ID="ID_830814112" CREATED="1607914480819" MODIFIED="1613961248683">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      SP534实现的是TDD LTE中的下行SU-MIMO，支持TM7和TM8。在SP534中，其下行的信道信息是基于上行SRS信道的互异性特性来估计的。
    </p>
    <p>
      
    </p>
    <p>
      <b>DL SU-MIMO (TM7/8):</b>
    </p>
    <p>
      <i>Periodic SRS</i>&nbsp;--&gt; with and without antenna selection
    </p>
    <p>
      <i>RAT (MMSE)</i>&nbsp;--&gt; UE supporting SRS antenna selection, UE not supporting SRS antenna selection (two-layer BF with 1Tx SRS)
    </p>
    <p>
      <i>Rank/SINR</i>&nbsp;&nbsp;--&gt; UE reported CSI with OL adjustment, eNB estimated, TM switching, VIP UE (test UE) support
    </p>
  </body>
</html>

</richcontent>
<node TEXT="新增BFC模块" ID="ID_971345118" CREATED="1611625698756" MODIFIED="1611625707620">
<node TEXT="主要功能" ID="ID_1021320893" CREATED="1611625717539" MODIFIED="1611625811063"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      BFC is the function module where <font color="#0000cc"><b>channel estimates are stored</b></font>, and <font color="#0000cc"><b>RAT beamforming weights are calculated and stored</b></font>.
    </p>
    <p>
      
    </p>
    <p>
      In the case that eNB calculated SINR and rank are used, <font color="#0000cc"><b>SINR and rank are also computed and stored in BFC</b></font>。
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="基于SRS的信道估计" ID="ID_1804109807" CREATED="1613961259743" MODIFIED="1613963614894"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      基于SRS的信道估计，legacy已经实现了，在beam域上的SRS来做信道估计改动的不多。
    </p>
    <p>
      在NDS里面描述了一些主要的区别:
    </p>
    <ol>
      <li>
        zero-length optimum channel 需要被允许
      </li>
      <li>
        信道估计的粒度从子载波级别降低到SCG的粒度
      </li>
      <li>
        PUCCH的频域上并没有SRS覆盖，所以这部分频点上的信道估计需要盲估
      </li>
      <li>
        如果UE不支持AS的话，UE只能使用一根天线来传输SRS，那么eNB需要通过估计的方式得到另一根天线上的信道响应。实际的操作是假设UE使用了双极化天线，将一根天线上得到的信道估计，做正交化之后当作另一根天线的信道估计的近似值。
      </li>
    </ol>
  </body>
</html>

</richcontent>
</node>
<node TEXT="基于SRS的BF Weight" ID="ID_1562081317" CREATED="1613971238457" MODIFIED="1613972674118">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      其实基于SRS的BF weight的计算，其实还是算出H矩阵，然后在eNB端在发射信号的时候，做类似于均衡的操作。
    </p>
    <p>
      只不过，在普通的H矩阵预测中，针对的是antenna port来做的。
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      其实它的本质还是一样的做均衡操作，只不过跟普通的均衡是针对port口来做的不一样，这
    </p>
  </body>
</html>

</richcontent>
<node TEXT="Rank2" ID="ID_1158839923" CREATED="1613971255385" MODIFIED="1613973156004"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      如果是Rank2的BF weight，其实是使用的H矩阵做inverse的方式来得到BF weight的。
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      需要注意的是，这个的H矩阵是针对Beam域来说的，也就是说如果接收端设计了M个Beam，而发射端UE一般是两个天线，那么这个H矩阵就是2 x M的矩阵。
    </p>
    <p>
      
    </p>
    <p>
      如果eNB是利用互异性通过SRS来计算下行H的话，那么其实首先eNB是做的上行的信道估计。
    </p>
    <p>
      针对上行来说，UE的发射天线是2个，如果eNB设计了M个接收beam的话，那么估计的上行的信道矩阵H就是M x 2 维度。
    </p>
    <p>
      而下行的信道矩阵就是将这个H做一个inverse，得到一个2 x M的矩阵。
    </p>
    <p>
      <font color="#ff0033">而BF weight，就是针对这个H的inverse矩阵做均衡</font>。
    </p>
    <p>
      
    </p>
    <p>
      在SP534的NDS中，使用的是<font color="#ff0033"><b>Zero-Forcing</b></font>的方式做的均衡，得出的结果就是<font color="#ff0033">beam域的BF weight</font>。
    </p>
  </body>
</html>

</richcontent>
</node>
<node TEXT="Rank1" ID="ID_833771521" CREATED="1613971258352" MODIFIED="1613973106027"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      如果是rank1的调度，那么BF weight的计算同样也和信道矩阵H有关。
    </p>
    <p>
      道理实际上跟rank2是一样的，只是在rank2场景下，需要同时使用H的两列，
    </p>
    <p>
      但是在rank1场景下，eNB只要选取H矩阵的一列来做inverse就可以了。
    </p>
    <p>
      
    </p>
    <p>
      基于这个选取的H来做的均衡，得到的结果就是使得UE端某一个天线上的接收的效果最好。
    </p>
  </body>
</html>

</richcontent>
<node TEXT="如何选择antenna" ID="ID_474046439" CREATED="1613973182177" MODIFIED="1613973842825"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      在rank1的BF weight的计算中，需要选择antenna，
    </p>
    <p>
      选择方式跟UE是否使用AS有关系:
    </p>
    <p>
      
    </p>
    <p>
      如果UE没有使用AS，那么直接选择第一个天线。
    </p>
    <p>
      如果UE使用了AS，那么
    </p>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="weight归一化" ID="ID_74269701" CREATED="1613973883106" MODIFIED="1613974250893"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      直接均衡出来的BF weight，可能是任意值，这会导致改变eNB发射信号的能量，可能会很大或者很小。
    </p>
    <p>
      我们需要做归一化让其的能量为1，也就是说，我们需要在做完BF之后，不改变发射信号的能量。
    </p>
    <p>
      
    </p>
    <p>
      那么对于rank1的UE来说，只要算出BF weight中的各项的平均功率，然后每个weight项都除以这一项，就能满足所有的weight的能量和为1.
    </p>
    <p>
      对于rank2的UE来说，每一列单独做归一化，但是每个weight除以平均功率之后，再乘以一个1/根号2，这样就保证了每一列的总功率为0.5，两列一起的总功率为1.满足了功率的归一化要求。
    </p>
  </body>
</html>

</richcontent>
</node>
<node TEXT="下行的BF Weight转化" ID="ID_1824538179" CREATED="1613975920510" MODIFIED="1613977771035"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      在基于SRS和上下行互异性来做下行BF的时候，例如64天线的系统，基于接收到的SRS可以通过SDFT变换，可以得到64个Beam。
    </p>
    <p>
      这64个beam是分别在水平和垂直方向等角度划分的。
    </p>
    <p>
      
    </p>
    <p>
      在下行的BF weight计算的过程中，某个UE的某一个特定的layer都需要分别做beam forming,
    </p>
    <p>
      这实际上跟legacy场景下做预编码的情况是一样的(<font color="#0000cc">在legacy LTE的场景下，预编码做的事情，其实就是对UE的每一层分别做均衡，也就是给每一层打出不同的波形，这其实是一种最简陋的BF，每一层可选的波束形状就是预编码矩阵中规定的那集中。</font>)
    </p>
    <p>
      那么在BF的场景下，可以自由的选择“预编码矩阵”了，这个矩阵实际上就是我们这里说的BF weight.
    </p>
    <p>
      
    </p>
    <p>
      在实际的操作当中，根据上面描述的rank1和rank2的BF weight计算，得到的是beam域上的weight，这些个weight是不能直接使用的，需要转换为antenna域上的weight才能实际的加载到每个物理天线上去。
    </p>
    <p>
      那么是如何转化的呢？实际上也很简单，<font color="#0000cc">就是做一个反向的SDFT</font>，就可以将beam域的weight转换为天线域的weight了。
    </p>
    <p>
      
    </p>
    <p>
      
    </p>
  </body>
</html>

</richcontent>
</node>
<node TEXT="下行功率scaling" ID="ID_516585612" CREATED="1613978093879" MODIFIED="1613978099332"/>
</node>
</node>
<node TEXT="SP372-MU-MIMO SRS-based RAT DL BF 64TRX" ID="ID_223771595" CREATED="1607914497995" MODIFIED="1607914618536"/>
<node TEXT="SP373-UL MU-MIMO BF 64TRX" ID="ID_1610773447" CREATED="1607914500848" MODIFIED="1607914640432"/>
</node>
<node TEXT="MR5632" ID="ID_213424213" CREATED="1607914521327" MODIFIED="1607914524239">
<node TEXT="SP115-DMRS-based GoB DL BF 64TRX" ID="ID_171204834" CREATED="1607914525498" MODIFIED="1607914668104"/>
<node TEXT="SP116-Enhanced Observability for AAS" ID="ID_1296518003" CREATED="1607914532188" MODIFIED="1607914687473"/>
</node>
<node TEXT="MR5050-16-layer DL MU-MIMO" ID="ID_26206491" CREATED="1607914549669" MODIFIED="1607914726526"/>
</node>
<node TEXT="FDD AAS" ID="ID_979336888" CREATED="1606269345064" MODIFIED="1606269379775">
<node TEXT="MR4361" ID="ID_1172253547" CREATED="1609380032558" MODIFIED="1609382732913" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/LMR%20NDS%2032TR.pdf">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      32TR SU-MIMO on AIR3246
    </p>
  </body>
</html>
</richcontent>
<node TEXT="base" ID="ID_1294007969" CREATED="1609382326392" MODIFIED="1609382327679">
<node TEXT="MR3452" ID="ID_409756082" CREATED="1609382309778" MODIFIED="1609382313196"/>
<node TEXT="MR4031" ID="ID_1799609369" CREATED="1609382323099" MODIFIED="1609382324045"/>
</node>
</node>
<node TEXT="MR4481" ID="ID_48250905" CREATED="1609380143988" MODIFIED="1609380190997"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      IODT for R13/R14 ClassA TM9
    </p>
  </body>
</html>
</richcontent>
</node>
<node TEXT="MR6132" ID="ID_1281415345" CREATED="1609380152808" MODIFIED="1609383770629" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/NDS%20MR6132%20FDD%20AAS%20Digital%20Sectorization.pdf"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      FDD AAS Digital Sectorization
    </p>
  </body>
</html>
</richcontent>
<node TEXT="参考-DS原理" ID="ID_951205588" CREATED="1609383835076" MODIFIED="1609385351504" LINK="#ID_1800580812"/>
<node TEXT="参考-P2A映射" ID="ID_1739289352" CREATED="1609385352658" MODIFIED="1609385371768" LINK="#ID_722772368"/>
</node>
<node TEXT="MR5667" ID="ID_1986480731" CREATED="1609380225689" MODIFIED="1609384322857" LINK="../../../../Users/edenjun/Desktop/LTE/AAS/NDS%20MR5667%20AIR1641%20BB%20support.pdf"><richcontent TYPE="NOTE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      AIR1641 Baseband support
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
</map>
